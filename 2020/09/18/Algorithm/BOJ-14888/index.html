<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Soyeong Choi">


    <meta name="subtitle" content="기록용 블로그">


    <meta name="description" content="Personal IT Diary">


    <meta name="keywords" content="Node.js, html, React, Docker">


<title>BOJ-14888 - 연산자 끼워넣기 | StudyYeong</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Study Yeong</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Study Yeong</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">BOJ-14888 - 연산자 끼워넣기</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Soyeong Choi</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">9월 18, 2020&nbsp;&nbsp;17:45:10</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="BOJ-14888-연산자-끼워넣기"><a href="#BOJ-14888-연산자-끼워넣기" class="headerlink" title="BOJ-14888. 연산자 끼워넣기"></a>BOJ-14888. 연산자 끼워넣기</h1><p><a target="_blank" rel="noopener" href="https://www.acmicpc.net/problem/14888">문제 링크</a></p>
<h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><p>N개의 수로 이루어진 수열 A1, A2, …, AN이 주어진다. 또, 수와 수 사이에 끼워넣을 수 있는 N-1개의 연산자가 주어진다. 연산자는 덧셈(+), 뺄셈(-), 곱셈(×), 나눗셈(÷)으로만 이루어져 있다.</p>
<p>우리는 수와 수 사이에 연산자를 하나씩 넣어서, 수식을 하나 만들 수 있다. 이때, 주어진 수의 순서를 바꾸면 안 된다.</p>
<p>예를 들어, 6개의 수로 이루어진 수열이 1, 2, 3, 4, 5, 6이고, 주어진 연산자가 덧셈(+) 2개, 뺄셈(-) 1개, 곱셈(×) 1개, 나눗셈(÷) 1개인 경우에는 총 60가지의 식을 만들 수 있다. 예를 들어, 아래와 같은 식을 만들 수 있다.</p>
<ul>
<li>1+2+3-4×5÷6</li>
<li>1÷2+3+4-5×6</li>
<li>1+2÷3×4-5+6</li>
<li>1÷2×3-4+5+6</li>
</ul>
<p>식의 계산은 연산자 우선 순위를 무시하고 앞에서부터 진행해야 한다. 또, 나눗셈은 정수 나눗셈으로 몫만 취한다. 음수를 양수로 나눌 때는 C++14의 기준을 따른다. 즉, 양수로 바꾼 뒤 몫을 취하고, 그 몫을 음수로 바꾼 것과 같다. 이에 따라서, 위의 식 4개의 결과를 계산해보면 아래와 같다.</p>
<ul>
<li>1+2+3-4×5÷6 = 1</li>
<li>1÷2+3+4-5×6 = 12</li>
<li>1+2÷3×4-5+6 = 5</li>
<li>1÷2×3-4+5+6 = 7</li>
</ul>
<p>N개의 수와 N-1개의 연산자가 주어졌을 때, 만들 수 있는 식의 결과가 최대인 것과 최소인 것을 구하는 프로그램을 작성하시오.</p>
<h2 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h2><p>첫째 줄에 수의 개수 N(2 ≤ N ≤ 11)가 주어진다. 둘째 줄에는 A1, A2, …, AN이 주어진다. (1 ≤ Ai ≤ 100) 셋째 줄에는 합이 N-1인 4개의 정수가 주어지는데, 차례대로 덧셈(+)의 개수, 뺄셈(-)의 개수, 곱셈(×)의 개수, 나눗셈(÷)의 개수이다.</p>
<h2 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h2><p>첫째 줄에 만들 수 있는 식의 결과의 최댓값을, 둘째 줄에는 최솟값을 출력한다. 연산자를 어떻게 끼워넣어도 항상 -10억보다 크거나 같고, 10억보다 작거나 같은 결과가 나오는 입력만 주어진다. 또한, 앞에서부터 계산했을 때, 중간에 계산되는 식의 결과도 항상 -10억보다 크거나 같고, 10억보다 작거나 같다.</p>
<h2 id="입출력-예제"><a href="#입출력-예제" class="headerlink" title="입출력 예제"></a>입출력 예제</h2><p>예제 1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 입력</span><br><span class="line">2</span><br><span class="line">5 6</span><br><span class="line">0 0 1 0</span><br><span class="line"># 출력</span><br><span class="line">30</span><br><span class="line">30</span><br></pre></td></tr></table></figure>

<p>예제 2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 입력</span><br><span class="line">3</span><br><span class="line">3 4 5</span><br><span class="line">1 0 1 0</span><br><span class="line"># 출력</span><br><span class="line">35</span><br><span class="line">17</span><br></pre></td></tr></table></figure>

<p>예제 3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 입력</span><br><span class="line">6</span><br><span class="line">1 2 3 4 5 6</span><br><span class="line">2 1 1 1</span><br><span class="line"># 출력</span><br><span class="line">54</span><br><span class="line">-24</span><br></pre></td></tr></table></figure>

<h2 id="풀이"><a href="#풀이" class="headerlink" title="풀이"></a>풀이</h2><p>이 문제는 itertools 모듈의 라이브러리를 사용할 수도 있고 DFS 혹은 BFS를 사용해서도 풀 수 있다.<br>나는 <code>permutations</code>를 사용하는 풀이와, <code>DFS</code>를 사용해 풀이해봤는데 둘의 성능차이가 정말 많이 났다.</p>
<p><img src="/images/2020-09-18-17-51-08.png"></p>
<p><em>시간 차이가 거의 6배나 난다</em></p>
<h3 id="DFS-풀이"><a href="#DFS-풀이" class="headerlink" title="DFS 풀이"></a>DFS 풀이</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">n =<span class="built_in">int</span>(sys.stdin.readline().rstrip())</span><br><span class="line">num = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, sys.stdin.readline().rstrip().split()))</span><br><span class="line">add, sub, mul, div = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, sys.stdin.readline().rstrip().split()))</span><br><span class="line"></span><br><span class="line">min_ans = <span class="number">9876543210</span></span><br><span class="line">max_ans = -<span class="number">9876543210</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">i, result</span>):</span></span><br><span class="line">    <span class="keyword">global</span> add, sub, mul, div, min_ans, max_ans</span><br><span class="line">    <span class="keyword">if</span> i == n:</span><br><span class="line">        <span class="keyword">if</span> result &gt; max_ans: max_ans = result</span><br><span class="line">        <span class="keyword">if</span> result &lt; min_ans: min_ans = result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> add:</span><br><span class="line">            add-=<span class="number">1</span></span><br><span class="line">            dfs(i+<span class="number">1</span>, result+num[i])</span><br><span class="line">            add+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> sub:</span><br><span class="line">            sub-=<span class="number">1</span></span><br><span class="line">            dfs(i+<span class="number">1</span>, result-num[i])</span><br><span class="line">            sub+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> mul:</span><br><span class="line">            mul-=<span class="number">1</span></span><br><span class="line">            dfs(i+<span class="number">1</span>, result*num[i])</span><br><span class="line">            mul+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> div:</span><br><span class="line">            div-=<span class="number">1</span></span><br><span class="line">            dfs(i+<span class="number">1</span>, <span class="built_in">int</span>(result/num[i]))</span><br><span class="line">            div+=<span class="number">1</span></span><br><span class="line">dfs(<span class="number">1</span>, num[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(max_ans, min_ans, sep=<span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>나누기를 할 때 <code>//</code> 연산자만 사용해서는 정답이 나오지 않는다. 이유는 정확히 파악하지 못했다.</p>
<h3 id="Permutations-풀이"><a href="#Permutations-풀이" class="headerlink" title="Permutations 풀이"></a>Permutations 풀이</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line">n = <span class="built_in">int</span>(sys.stdin.readline().rstrip())</span><br><span class="line">num = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, sys.stdin.readline().rstrip().split()))</span><br><span class="line">oper = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, sys.stdin.readline().rstrip().split()))</span><br><span class="line">oper_s = <span class="string">&#x27;+&#x27;</span> * oper[<span class="number">0</span>] + <span class="string">&#x27;-&#x27;</span> * oper[<span class="number">1</span>] + <span class="string">&#x27;*&#x27;</span> * oper[<span class="number">2</span>] + <span class="string">&#x27;/&#x27;</span> * oper[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal</span>(<span class="params">oper</span>):</span></span><br><span class="line">    ans = num[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">        op = oper[i-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> op == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">            ans += num[i]</span><br><span class="line">        <span class="keyword">elif</span> op == <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            ans -= num[i]</span><br><span class="line">        <span class="keyword">elif</span> op == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">            ans *= num[i]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> ans &lt; <span class="number">0</span>:</span><br><span class="line">                temp = <span class="built_in">abs</span>(ans) // num[i]</span><br><span class="line">                ans = -temp</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans //= num[i]</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">ans_max = -<span class="number">9876543210</span></span><br><span class="line">ans_min = <span class="number">9876543210</span></span><br><span class="line"></span><br><span class="line">permu = <span class="built_in">set</span>(permutations(oper_s))</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> permu:</span><br><span class="line">    result = cal(p)</span><br><span class="line">    <span class="keyword">if</span> ans_max &lt; result: ans_max = result</span><br><span class="line">    <span class="keyword">if</span> ans_min &gt; result: ans_min = result</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ans_max)</span><br><span class="line"><span class="built_in">print</span>(ans_min)</span><br></pre></td></tr></table></figure>

<p>각 연산자의 갯수와 연사자를 곱해 문자열로 만들고 해당 문자열로 순열을 조합한 결과에 중복을 제거하는 <code>set</code>을 사용했다.</p>
<p>질문 게시판을 살펴보니 <code>백트래킹</code> 으로 풀면 매우 빠르게 풀 수 있는 것 같다. 나중에 공부하고 풀어봐야겠다.</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Soyeong Choi</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://so0choi.github.io/2020/09/18/Algorithm/BOJ-14888/">https://so0choi.github.io/2020/09/18/Algorithm/BOJ-14888/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>so02hiiiiii</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/BOJ/"># BOJ</a>
                    
                        <a href="/tags/BFS-DFS/"># BFS/DFS</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/09/18/Algorithm/BOJ-16234/">BOJ-16234 - 인구이동</a>
            
            
            <a class="next" rel="next" href="/2020/09/15/Nodejs/Node-js13/">Node-js13 - Node.js 동작 방식 (EventLoop)</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Soyeong Choi | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
